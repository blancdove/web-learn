# 事件

[MDN事件参考](https://developer.mozilla.org/zh-CN/docs/Web/Events#%E4%B8%8D%E5%B8%B8%E8%A7%81%E5%92%8C%E9%9D%9E%E6%A0%87%E5%87%86%E4%BA%8B%E4%BB%B6)



### 绑定事件处理函数

##### [addEventListener()](https://developer.mozilla.org/zh-CN/docs/Web/API/EventTarget/addEventListener)



##### attachEvent

> 兼容IE
>
> target.attachEvent('on'+type,listener)
>
> **listener**
>
> 对象或处理函数



### 解除绑定事件处理

##### [removeEventListener()](https://developer.mozilla.org/zh-CN/docs/Web/API/EventTarget/removeEventListener)



##### detachEvent()

> 兼容IE
>
> target.detachEvent('on'+type,listener)
>
> **listener**
>
> 对象或处理函数



## 事件冒泡与事件捕获

> 事件冒泡和事件捕获分别由微软和网景公司提出，这两个几乎完全相反的概念都是为了解决页面中**事件流**（事件发生顺序）的问题。

**触发顺序，先捕获再冒泡**



### 事件冒泡

> 微软提出了名为**事件冒泡**(event bubbling)的事件流。事件冒泡可以形象地比喻为把一颗石头投入水中，泡泡会一直从水底冒出水面。也就是说，事件会从最内层的元素开始发生，一直向上传播，直到document对象。



### 事件捕获

> 网景提出另一种事件流名为**事件捕获**(event capturing)。与事件冒泡相反，事件会从最外层开始发生，直到最具体的元素。



### addEventListener 的第三个参数

布尔值

**false**：冒泡（默认值）

**true**：捕获



### 不冒泡的事件

focus、blur、change、mouseenter、mouseleave、load、unload、submit、reset、select、resize



### 取消冒泡与阻止默认事件

##### 取消冒泡

> event.stopPropagation();
>
> W3C标准



> event.cancelBubble = true
>
> IE



##### 阻止默认事件

> event.preventDefault();
>
> W3C标准

```js
// 阻止鼠标右键菜单事件
document.oncontextmenu = function(evt){
    evt.preventDefault();
}
```



> event.returnValue = false
>
> IE



##### 判断是否调用了 `event.preventDefault()`

> event.defaultPrevented

返回一个布尔值

```js
if (e.defaultPrevented) {
    /* 事件的默认动作已被取消*/
}
```



### 事件源对象

> event.target

可以用来实现**事件委托** (**event delegation**)。

> event.srcElement
>
> IE6-8



### 事件委托

将需要在子元素身上触发的事件绑定到父级元素身上，因为子元素触发的事件会冒泡到父元素身上，父级通过事件源对象就可找到真正触发事件的子元素。

```js

```



## 鼠标事件

> click、mousedown、mousemove、mouseup、contextmenu、mouseover、mouseout、mouseenter、mouseleave

### 点击事件

**触发顺序：**mousedown > mouseup > click

click事件只响应鼠标左键



**contextmenu：**右键菜单事件



mouseover与mouseenter都是鼠标移入事件，区别是`mouseenter `不会[冒泡](https://developer.mozilla.org/zh-CN/docs/Web/API/Event/bubbles)（bubble）



**判断按键**

> MouseEvent.button

- `0`：主按键，通常指鼠标左键或默认值（译者注：如document.getElementById('a').click()这样触发就会是默认值）
- `1`：辅助按键，通常指鼠标滚轮中键
- `2`：次按键，通常指鼠标右键
- `3`：第四个按钮，通常指浏览器后退按钮
- `4`：第五个按钮，通常指浏览器的前进按钮



## 键盘事件

> keydown、keypress、keyup

**触发顺序：**keydown > keypress > keyup

keypress只响应产生字符值的键，但Unicode编码区分大小写。**不推荐使用**



**判断按键**

> MouseEvent.key



## 文本操作事件

> input、focus、blur、change



## 窗体操作类

> scroll、load

window上的事件

当整个页面及所有依赖资源如样式表和图片都已完成加载时，将触发`load`事件。







